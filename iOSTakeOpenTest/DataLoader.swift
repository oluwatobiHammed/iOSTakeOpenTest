//
//  DataLoader.swift
//  iOSTakeOpenTest
//
//  Created by Oladipupo Oluwatobi on 09/06/2020.
//  Copyright Â© 2020 Oladipupo Oluwatobi. All rights reserved.
//

import Foundation

public class DataLoader {
    @Published var userData: UserData?
    
    init() {
        load()
    }
    func load() {
        
        if let filelocation = Bundle.main.url(forResource: "pet_adoption", withExtension: "json") {
            // do catch in case of an error
            
            do {
             let data = try Data(contentsOf: filelocation)
                let jsonDecoder = JSONDecoder()
                let dataFromData = try jsonDecoder.decode(UserData.self, from: data)
                //print(dataFromData)
                self.userData = dataFromData
            } catch  {
                print(error)
            }
        }
        
    }
}
